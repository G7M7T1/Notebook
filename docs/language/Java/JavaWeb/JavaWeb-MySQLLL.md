---
sidebar_position: 3
sidebar_label: 'MySQL-Part-3st'
---

# 前言

- 这是一个在JavaWeb过程中的MySQL，从0到1的学习笔记。
  - 因此，这篇Notes更适合在学习JavaWeb的过程中进行阅读
  - 更加全面的MySQL文章会在**"数据管理"**大纲下进行发布
- 内容主要为Base of MySQL
  - 概括为简单的CRUD基本操作
- It's more suitable for understanding in learning
  - 意味着这个Notes更容易帮助学习MySQL基础而不是作为字典查询
    - 当然，要当字典用也没事，看的懂并且理解最重要，看不懂我也没办法。
- 更权威的内容在 [这里](https://dev.mysql.com/doc/)，如果您觉得这篇markdown很弱智的话
- 如果有些问题通过Ctrl+F是解决不了的，[这里](https://www.google.com)一定有正确的解决方案

# 本文包含以下元素

- 数据库的设计
  - 多表之间的关系以及实现
- 数据库设计的范式
  - 第一范式，第二范式，第三范式
- 数据库的备份和还原

# 数据库的设计

## 多表之间的关系

### 一对一的关系

- 如：人和身份证
- 分析：一个人只有一个身份证，一个身份证只能对应一个人

### 一对多的关系（多对一）

- 如：部门和员工
- 分析：一个部门有多个员工，一个员工只能对应一个部门

### 多对多的关系

- 如：学生和课程
- 分析：一个学生可以选择多个课程，一个课程也可以被多个学生选择

------

## 实现关系

### 一对一的关系

- 如：人和身份证
- 实现方式一：一对一关系实现，可以在任意地方添加唯一外键指向另一方主键
- 实现方式二：让两张表的主键相对应也可以，但是一对一的关系用的很少，了解就够了。
- 实现方式三：其实一对一弄成一张表就行了- -，把主键设计成唯一性即可。

### 一对多的关系（多对一）

- 如：部门和员工
- 实现方式：在多的一方建立外键，指向一的一方的主键。

### 多对多的关系

- 如：学生和课程
- 实现方式：多对多实现借助第三张中间表。中间表至少包含两个字段，这两个字段作为第三张表的外键，分别指向两张表的主键，但是在第中间表中的关系必须是唯一的，不能出现两次，这样的方法实现需要联合主键。

------

# 数据库设计的范式

## 数据库设计的范式

### 概念

- 设计数据库时，需要遵循的一些规范，要遵循后边的范式要求，必须先遵循前边的所有范式要求

- 关系数据库中的关系必须满足一定的要求，即满足不同的范式。

  关系[数据](https://baike.baidu.com/item/数据/33305)库有六种范式：

  - 第一范式（1NF）

  - 第二范式（2NF）

  - 第三范式（3NF）

  - 巴德斯科范式（BCNF）

  - 第四范式（4NF）

  - 第五范式（5NF）

    满足最低要求的范式是第一范式（1NF）。在第一范式的基础上进一步满足更多要求的称为第二范式（2NF），其余范式以次类推。一般说来，数据库只需满足第三范式（3NF）就行了。

## 第一范式

### **无重复的列**

数据库表的每一列都是不可分割的原子数据项，而不能是集合，数组，记录等非原子数据项。如果实体中的某个属性有多个值时，必须拆分为不同的属性

在任何一个关系数据库中，第一范式（1NF）是对关系模式的设计基本要求，一般设计中都必须满足第一范式（1NF）。不过有些关系模型中突破了1NF的限制，这种称为非1NF的关系模型。换句话说，是否必须满足1NF的最低要求，主要依赖于所使用的关系模型。

## 第二范式

### **属性完全依赖于主键**

第二范式（2NF）是在第一范式（1NF）的基础上建立起来的，即满足第二范式（2NF）必须先满足第一范式（1NF）。

当存在多个主键的时候，才会发生不符合第二范式的情况。比如有两个主键，不能存在这样的属性，它只依赖于其中一个主键，这就是不符合第二范式。

如果存在不符合第二范式的情况，那么这个属性和主关键字的这一部分应该分离出来形成一个新的实体，新实体与原实体之间是一对多的关系。

### 几个概念

- 函数依赖：A-->（属性组）的值可以确定唯一B的属性值，则称为B依赖于A
  - 如：学号-->姓名。学号依赖于姓名。（学号，课程名称） -->分数，这个称为一个属性组
- 完全函数依赖：A-->B，如果A是一个属性组，则B属性值的确定需要确定于A属性组中所有组的属性值，也就是要通过充分条件才能确定值。
  - 如：（学号，课程名称） -->分数，
- 部分函数依赖：A-->B，如果A是一个属性组，则B属性值的确定只需要依赖A属性组中某一些值即可。
  - 如：（学号，课程名称） -->姓名，通过学号去确定姓名
- 传递函数依赖：A-->B，B-->C，如果通过A属性（属性组）的值，可以确定唯一B属性的值，再通过B属性（属性组）的值确定唯一C属性的值，则称C传递函数依赖于A。
  - 如：学号-->系名，系名-->系主任
- 码：如果在一张表中，一个属性或属性组，被其它所有属性所完全依赖，则称这个属性（属性组）为该表的码
  - 如：表中的码为一个属性组（学号，课程名称），那么可以确定分数，名字，系，系主任。
- 主属性：码属性组中所有的所有属性
- 非主属性：除过码属性组的属性

## 第三范式

### **属性不能传递依赖于主属性（属性不依赖于其它非主键属性）**

第三范式（3NF）是在第二范式（2NF）的基础上建立起来的，即满足第三范式（3NF）必须先满足第二范式（2NF）。

3NF是对字段的冗余性，要求任何字段不能由其他字段派生出来，它要求字段没有冗余，即**不存在传递依赖**；

------

# 数据库的备份和还原

## 数据库的备份和还原

### 命令行

备份语法：

```sql
备份：mysqldump -u用户名 -p密码 数据库名称 -> 保存的路径
```

还原

- 1.登录数据库
- 2.创建数据库
- 3.使用数据库
- 4.执行文件。sourse 文件路径

### 图形界面

- 1.数据库右键
- 2.备份/导出
- 3.备份数据库，转储到SQL
- 4.还原的时候执行SQL脚本即可
